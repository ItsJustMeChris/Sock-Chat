!function(){const e=document.getElementById("socket-chat"),t=io(e.dataset.socketurl),n=document.createElement("main"),s=document.createElement("input"),c=document.createElement("button"),o=e.dataset.session;function a(e,t=!1){const s=document.createElement("p");s.textContent=e,t&&s.setAttribute("class","sock-chat-user-message"),n.appendChild(s)}c.textContent="Send",e.appendChild(n),e.appendChild(s),e.appendChild(c),c.addEventListener("click",e=>{const{value:n}=s;a(n,1),t.emit("new-message",{sessionkey:o,message:n})}),t.on("message-sent",a),t.connect(function(e){console.log("Connected!!")})}();